<?xml version="1.0"?>
<!DOCTYPE Configure PUBLIC "-//Jetty//Configure//EN" "http://www.eclipse.org/jetty/configure_9_0.dtd">

<Configure class="org.eclipse.jetty.webapp.WebAppContext">
    <New class="org.eclipse.jetty.plus.jndi.Resource">
    <Arg>jdbc/birtconn</Arg>
    <Arg>
        <New class="org.postgresql.ds.PGSimpleDataSource">
            <Set name="User">
                <SystemProperty name="DB_USER"/>
            </Set>
            <Set name="Password">
                <SystemProperty name="DB_PASS"/>
            </Set>
            <Set name="DatabaseName">
                <SystemProperty name="DB_NAME"/>
            </Set>
            <Set name="ServerName">
                <SystemProperty name="DB_HOST"/>
            </Set>
            <Set name="PortNumber">
                <SystemProperty type="int" name="DB_PORT" default="5432"/>
            </Set>
        </New>
    </Arg>
    </New>
    <New class="org.eclipse.jetty.plus.jndi.EnvEntry">
        <Arg>birt/resources</Arg>
        <Arg><SystemProperty name="birt.resources" default="/opt/birt/reports/resources"/></Arg>
    </New>
    <New class="org.eclipse.jetty.plus.jndi.EnvEntry">
        <Arg>birt/reports</Arg>
        <Arg><SystemProperty name="birt.reports" default="/opt/birt/reports"/></Arg>
    </New>
    <New class="org.eclipse.jetty.plus.jndi.EnvEntry">
        <Arg>birt/output</Arg>
        <Arg><SystemProperty name="birt.output" default="/tmp"/></Arg>
    </New>
</Configure>